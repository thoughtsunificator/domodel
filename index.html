<!DOCTYPE html>
<html lang="en">
<head>
    
    <meta charset="utf-8">
    <title>Home - Documentation</title>
    
    
    <script src="scripts/prettify/prettify.js"></script>
    <script src="scripts/prettify/lang-css.js"></script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc.css">
    <script src="scripts/nav.js" defer></script>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
</head>
<body>

<input type="checkbox" id="nav-trigger" class="nav-trigger" />
<label for="nav-trigger" class="navicon-button x">
  <div class="navicon"></div>
</label>

<label for="nav-trigger" class="overlay"></label>

<nav >
    
    <input type="text" id="nav-search" placeholder="Search" />
    
    <h2><a href="index.html">Home</a></h2><h3>Classes</h3><ul><li><a href="Binding.html">Binding</a><ul class='methods'><li data-type='method'><a href="Binding.html#_onRendered">_onRendered</a></li><li data-type='method'><a href="Binding.html#listen">listen</a></li><li data-type='method'><a href="Binding.html#run">run</a></li><li data-type='method'><a href="Binding.html#remove">remove</a></li><li data-type='method'><a href="Binding.html#addEventListener">addEventListener</a></li><li data-type='method'><a href="Binding.html#getIdentifier">getIdentifier</a></li><li data-type='method'><a href="Binding.html#onCreated">onCreated</a></li><li data-type='method'><a href="Binding.html#onRendered">onRendered</a></li></ul></li><li><a href="Core.html">Core</a><ul class='methods'><li data-type='method'><a href="Core.html#.run">run</a></li></ul></li><li><a href="EventListener.html">EventListener</a></li><li><a href="Listener.html">Listener</a><ul class='methods'><li data-type='method'><a href="Listener.html#remove">remove</a></li></ul></li><li><a href="Model.html">Model</a></li><li><a href="Observable.html">Observable</a><ul class='methods'><li data-type='method'><a href="Observable.html#listen">listen</a></li><li data-type='method'><a href="Observable.html#removeListener">removeListener</a></li><li data-type='method'><a href="Observable.html#emit">emit</a></li></ul></li></ul>
</nav>

<div id="main">
    

    



    


    <section class="package">
        <h3> </h3>		
    </section>









    



    <section class="readme usertext">
        <article><h1 id="domodel">domodel</h1>
<p>domodel is front-end library that organizes the user interface into models (look) and bindings (behavior) it follows the principle of separation of concerns, it also introduce elements of the observable pattern for the communication between the different parts of the user interface.</p>
<h2 id="getting-started">Getting started</h2>
<h3 id="installing">Installing</h3>
<h4 id="setup-a-new-project">Setup a new project</h4>
<p><code>npx create-domodel-app [name]</code></p>
<h4 id="setup-as-a-dependency-to-an-existing-project">Setup as a dependency to an existing project</h4>
<p><code>npm install domodel</code></p>
<h3 id="model">Model</h3>
<p>A model is a JSON representation of a DOM <a href="https://developer.mozilla.org/en-US/docs/Web/API/Element">Element</a>.</p>
<p>Let's take this model for example:</p>
<pre class="prettyprint source lang-javascript"><code>export default {
  tagName: &quot;button&quot;
}
</code></pre>
<p>That would the equivalent of:</p>
<pre class="prettyprint source lang-javascript"><code>const button = document.createElement(&quot;button&quot;)
</code></pre>
<p>A model with children:</p>
<pre class="prettyprint source lang-javascript"><code>export default {
  tagName: &quot;div&quot;,
  children: [
    {
      tagName: &quot;h2&quot;,
      identifier: &quot;headline&quot;,
      textContent: &quot;Unveil a new world&quot;
    }
  ]
}
</code></pre>
<p>Notice the <code>textContent</code> property. You can set any <a href="https://developer.mozilla.org/en-US/docs/Web/API/Element">Element</a> properties in this fashion.</p>
<p>The <code>identifier</code> property is a model property.</p>
<p>Note: The term model will later be used to refer to both the model and its <a href="https://thoughtsunificator.github.io/domodel/Binding.html">Binding</a> to make it simpler.</p>
<p>You can also ommit the <code>tagName</code> and you will get a fragment document model:</p>
<pre class="prettyprint source lang-javascript"><code>export default {
  // Only the 'children' property is allowed when working with a DocumentFragment.
  children: [
    {
      tagName: &quot;h2&quot;,
      identifier: &quot;headline&quot;,
      textContent: &quot;Unveil a new world&quot;
    }
  ]
}
</code></pre>
<p>That would the equivalent of:</p>
<pre class="prettyprint source lang-javascript"><code>const documentFragment = document.createDocumentFragment()
const h2 = document.createElement(&quot;h2&quot;)
// ...
documentFragment.appendChild(h2)
</code></pre>
<h4 id="properties">Properties</h4>
<p><a href="#model-properties"></a></p>
<p>Most properties listed in your model are defined at the Element level.</p>
<p>However custom properties are not set on the Element as they have unusual behaviors they are treated differently:</p>
<ul>
<li><code>tagName</code> - String - Passed to <code>createElement</code></li>
<li><code>children</code> - Array - To add children to an Element</li>
<li><code>identifier</code> - String - To save and retrieve a Node</li>
<li><code>model</code> - Model - Specify the model that should be ran</li>
<li><code>binding</code> - <a href="http://domodel.unificator.me/Binding.html">Binding</a> - Specify the <a href="http://domodel.unificator.me/Binding.html">Binding</a> to use when running the model (<code>model</code> property must be set)</li>
<li><code>properties</code> - Object - Specify the arguments to pass along the <a href="http://domodel.unificator.me/Binding.html">Binding</a> (<code>binding</code> property must be set)</li>
</ul>
<h3 id="core">Core</h3>
<h4 id="adding-models-to-the-dom-and-managing-them">Adding models to the DOM and managing them</h4>
<p>To add a model to the DOM we use the <a href="http://domodel.unificator.me/Core.html#.run">Core.run</a> method provided by the DOModel module and tell it how to add them.</p>
<p>Create a <code>main.js</code> in <code>src/</code>, it is the entry point module that is defined in your <code>index.html</code> :</p>
<p><code>src/main.js</code></p>
<pre class="prettyprint source lang-javascript"><code>import { Core } from &quot;domodel&quot; // first we're importing DOModel

// It is preferred to use camel case and suffix model names with &quot;Model&quot; and binding names with &quot;Binding&quot; such as: RectangleModel and RectangleBinding.
import Model from &quot;./model/model.js&quot; // the model we defined earlier, it is our super model
import ModelBinding from &quot;.model/model.binding.js&quot; // the binding we will be defining .bindinglater

window.addEventListener(&quot;load&quot;, function() { // we only add the
  Core.run(Model, {
    method: Core.METHOD.APPEND_CHILD, // This is the default method and will append the children to the given parentNode.
    binding: new ModelBinding({ myProp: &quot;hello :)&quot; }), // we're creating an instance of our binding (which extends the Binding class provided by DOModel) and passing it to the run method.
    parentNode: document.body // the node we want to target in this case it is the node where we want to append the child node using appendChild.
  })
})

</code></pre>
<p>The documentation for Core.run is available <a href="https://domodel.unificator.me/Core.html#.run">here</a>.</p>
<p>The associated <a href="http://domodel.unificator.me/Binding.html">Binding</a>:</p>
<p><code>src/model/model.binding.js</code></p>
<pre class="prettyprint source lang-javascript"><code>import { Core } from &quot;domodel&quot; // you could import the library again and run yet another model inside this model

class ModelBinding extends Binding {

  onCreated() {
    const { myProp } = this.properties

    console.log(myProp) // prints hello

    // access your model root element through the root property: this.root

    // access identifier with the identifier property:

    this.identifier.headline.textContent = &quot;The new world was effectively unveiled before my very eyes&quot;

    // you might even run another model inside this model
  }

}

export default ModelBinding 
</code></pre>
<h4 id="methods">Methods</h4>
<ul>
<li>
<p><code>APPEND_CHILD</code> Append your model to <code>parentNode</code></p>
</li>
<li>
<p><code>INSERT_BEFORE</code> Insert your model before <code>parentNode</code></p>
</li>
<li>
<p><code>REPLACE_NODE</code> Replace <code>parentNode</code> with your model</p>
</li>
<li>
<p><code>WRAP_NODE</code> Wrap <code>parentNode</code> inside your model</p>
</li>
<li>
<p><code>PREPEND</code> Insert your model before the first child of <code>parentNode</code></p>
</li>
</ul>
<p>They are available through <code>Core.METHOD</code>.</p>
<h3 id="binding">Binding</h3>
<p>Binding are the behavior part of our model it is required for any model to have a <a href="http://domodel.unificator.me/Binding.html">Binding</a> with it.</p>
<h4 id="hooks">Hooks</h4>
<p>The following are hooks that your binding can implement to add specific behaviors to your models.</p>
<h4 id="oncreated">onCreated</h4>
<p>This method will be called before your model is added to the DOM.</p>
<h4 id="onrendered">onRendered</h4>
<p>This method will be called immediately after your model is added to the DOM.</p>
<h4 id="properties-2">Properties</h4>
<p><a href="#binding-properties"></a></p>
<p>The following properties are made available from within the the instance of a <a href="http://domodel.unificator.me/Binding.html">Binding</a>:</p>
<ul>
<li><code>properties</code> Properties passed along when instancing a binding.</li>
<li><code>root</code> Root <a href="https://developer.mozilla.org/en-US/docs/Web/API/Element">Element</a> of your model.</li>
<li><code>identifier</code> Hosts individual <a href="https://developer.mozilla.org/en-US/docs/Web/API/Element">Element</a> previously tagged in the definition of the model (see <a href="#model-properties">Model properties</a>).</li>
</ul>
<h3 id="methods-2">Methods</h3>
<h4 id="listen">listen</h4>
<p>Listen to a given observable event. See <a href="https://domodel.unificator.me/Binding.html#listen">Binding.listen</a>.</p>
<blockquote>
<p>This is the preferred method for listening to events as any listener will be cleaned up when your binding is removed using <a href="https://domodel.unificator.me/Binding.html#remove">Binding.remove</a>.</p>
</blockquote>
<h4 id="run">run</h4>
<p>Synonym of <a href="https://domodel.unificator.me/Core.html#.run">Core.run</a>, with the differences being :</p>
<ul>
<li><code>parentNode</code> property is set to the current binding root element.</li>
<li>All <code>properties</code> within Binding.properties are inherited by the child model.</li>
<li>A hierarchy of models is created using Binding._children. Making it easier to remove them using <a href="https://domodel.unificator.me/Binding.html#remove">Binding.remove</a>.</li>
</ul>
<h4 id="remove">remove</h4>
<p>Remove the model from the DOM. See <a href="https://domodel.unificator.me/Binding.html#remove">Binding.remove</a>.</p>
<h3 id="observable">Observable</h3>
<p>An <a href="http://domodel.unificator.me/observable.Observable.html">Observable</a> is a way for your models to communicate with each other.</p>
<p><code>src/object/observable-example.js</code></p>
<pre class="prettyprint source lang-javascript"><code>import { Observable } from &quot;domodel&quot;

class ExampleObservable extends Observable {

  // you can have a constructor

  // getter setter...

  // or even better, you could have methods.

}

export default ExampleObservable 
</code></pre>
<h4 id="listening-to-events">Listening to events</h4>
<h5 id="eventlistener">EventListener</h5>
<p>Here we associate the EventListener with our current binding and give it <code>properties.observable</code> as the observable to register the events to.</p>
<p><code>src/model/model.binding.js</code></p>
<pre class="prettyprint source lang-javascript"><code>import { Observable, Binding } from &quot;domodel&quot;

import ModelEventListener from &quot;/model/model.event.js&quot;

class ModelBinding extends Binding {

  constructor(properties) {
    super(properties, new ModelEventListener(properties.observable))
  }

}

export default ModelBinding 
</code></pre>
<p>Any method inside an <code>EventListener</code> is automatically registered as a listener to the given observable.</p>
<p><code>src/model/model.event.js</code></p>
<pre class="prettyprint source lang-javascript"><code>import { EventListener } from &quot;domodel&quot;

class ModelEventListener extends EventListener {

  message(data) {
    console.log(data)
  } 

}

export default ModelEventListener 
</code></pre>
<h5 id="observable.listen">observable.listen</h5>
<p>Useful when you want to listen to other parts your UI.</p>
<p><code>src/model/model.binding.js</code></p>
<pre class="prettyprint source lang-javascript"><code>import { Observable, Binding } from &quot;domodel&quot;

class ModelBinding extends Binding {

  onCreated() {

    const observable = new Observable()

    observable.listen(&quot;message&quot;, data => {
      console.log(data)
    })

  }

}

export default ModelBinding 
</code></pre>
<h4 id="emitting-events">Emitting events</h4>
<p><code>src/model/model.binding.js</code></p>
<pre class="prettyprint source lang-javascript"><code>import { Observable } from &quot;domodel&quot;

class ModelBinding extends Binding {

  onCreated() {

    const observable = new Observable()

    observable.emit(&quot;message&quot;, { /* data go here */ })

  }

}

export default ModelBinding 
</code></pre>
<p>Running your model:</p>
<pre class="prettyprint source lang-javascript"><code>import { Core, Observable } from &quot;domodel&quot;

import Model from &quot;/model/model.js&quot;
import ModelBinding from &quot;/model/model.binding.js&quot;

const observable = new Observable()

Core.run(Model, { parentNode: document.body, binding: new ModelBinding({ observable }) })


</code></pre>
<h3 id="advanced">Advanced</h3>
<h4 id="nesting-models">Nesting models</h4>
<h5 id="method-1---import">Method 1 - Import</h5>
<p><code>src/model/application.js</code></p>
<pre class="prettyprint source lang-javascript"><code>import Model from &quot;./model.js&quot;

export default {
  tagName: &quot;div&quot;,
  children: [
    Model
  ]
}
</code></pre>
<h5 id="method-2---binding">Method 2 - Binding</h5>
<p><code>src/model/application.binding.js</code></p>
<pre class="prettyprint source lang-javascript"><code>import { Core } from &quot;domodel&quot;

import Model from &quot;./model.js&quot;
import ModelBinding from &quot;./model.binding.js&quot;

class extends Binding {

  onCreated() {
    Core.run(Model, { parentNode: this.root, binding: new ModelBinding() })
  }

}

export default class 
</code></pre>
<h5 id="method-3---%22model%22-property">Method 3 - &quot;model&quot; property</h5>
<p><code>src/model/application.js</code></p>
<pre class="prettyprint source lang-javascript"><code>import Model from &quot;./model.js&quot;
import ModelBinding from &quot;./model.binding.js&quot;

export default {
  tagName: &quot;div&quot;,
  children: [
    {
      model: Model,
      binding: ModelBinding // optionnal
      properties: {} // optionnal
      identifier: &quot;model&quot; // optionnal
      // Any other property is not handled.
    }
  ]
}
</code></pre>
<h5 id="referencing-to-nested-models">Referencing to nested models</h5>
<p>In some cases, you might want to reference to a nested model.</p>
<p>You can use the <code>identifier</code>, it will reference to an instance of the <a href="http://domodel.unificator.me/Binding.html">Binding</a> you specified, in this case it would be an instance of <code>ModelBinding</code>.</p>
<p>Accessing the reference:</p>
<p><code>src/model/model.binding.js</code></p>
<pre class="prettyprint source lang-javascript"><code>import { Binding } from &quot;domodel&quot; // you could import the library again and run yet another model inside this model

class extends Binding {

  onCreated() {

    console.log(this.identifier.model) // returns an instance of ModelBinding
    // You could access the root element of the nested model through:
    console.log(this.identifier.model.root)
    // and much more...

  }

}

export default class 
</code></pre>
<h3 id="api">API</h3>
<p>See <a href="http://domodel.unificator.me">http://domodel.unificator.me</a>.</p>
<h2 id="extensions">Extensions</h2>
<p>See <a href="https://github.com/topics/domodel-extension">https://github.com/topics/domodel-extension</a>.</p>
<h2 id="demos">Demos</h2>
<p>See <a href="https://github.com/topics/domodel-demo">https://github.com/topics/domodel-demo</a>.</p>
<h2 id="testing">Testing</h2>
<ul>
<li><code>npm install</code></li>
<li><code>npm test</code></li>
</ul></article>
    </section>






    
    
</div>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc3/jsdoc">JSDoc 3.6.6</a> on Thu Nov 14 2024 11:35:08 GMT+0000 (Coordinated Universal Time) using the <a href="https://github.com/clenemt/docdash">docdash</a> theme.
</footer>

<script>prettyPrint();</script>
<script src="scripts/polyfill.js"></script>
<script src="scripts/linenumber.js"></script>

<script src="scripts/search.js" defer></script>



</body>
</html>